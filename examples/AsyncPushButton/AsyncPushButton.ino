//************************************************************************************************************************
// PushButton.ino
// Version 2.0 Jan, 2025
// Author Gerald Guiony
//************************************************************************************************************************

#include <Common.h>
#include <Switches/AsyncPushButton.h>

using namespace corex;

// -----------------------------------------------------------------------------------------------------------------------
// Ouput in the Arduino IDE serial monitor :
//
// [t:76ms ESP8822001] ******* Chip is (re)booting *******
// [t:5319ms ESP8822001] Interrupt (ISR) : Button was pressed
//
// => this message appears instantly when the push button is pressed
// -----------------------------------------------------------------------------------------------------------------------

#define PUSH_BUTTON_PIN	D1
AsyncPushButton myAsyncPushButton (PUSH_BUTTON_PIN);

//========================================================================================================================
//
//========================================================================================================================
void setup()
{
	EspBoard::init (true);

	myAsyncPushButton.notifyPressedState += []() {
		Logln (F("Interrupt (ISR) : Button was pressed"));
	};
}

//========================================================================================================================
//
//========================================================================================================================
void loop()
{
}
