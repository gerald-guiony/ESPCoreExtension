//************************************************************************************************************************
// PushButton.ino
// Version 1.0 February, 2020
// Author Gerald Guiony
//************************************************************************************************************************

#include <Common.h>
#include <Switches/PushButton.h>


#define PUSH_BUTTON_PIN		D1

PUSHBUTTON_CLASS (Test)



//========================================================================================================================
//
//========================================================================================================================
void setup()
{

	// ------------ Global Init

	initSketch ();

	// ------------- Setup

	I(PushButtonTest).setup (PUSH_BUTTON_PIN);

	I(PushButtonTest).notifyPressedState += []() {
		Logln (F("Button was pressed"));
		I(EnergySaver).wakeUp ();
	};

	I(EnergySaver).setup ({ &I(PushButtonTest) });
}

//========================================================================================================================
//
//========================================================================================================================
void loop()
{
	I(EnergySaver).loop ();
}
