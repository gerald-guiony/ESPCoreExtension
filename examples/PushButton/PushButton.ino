//************************************************************************************************************************
// PushButton.ino
// Version 2.0 Jan, 2025
// Author Gerald Guiony
//************************************************************************************************************************

#include <Common.h>
#include <Switches/PushButton.h>

#define PUSH_BUTTON_PIN		D1

PushButton myPushButton (PUSH_BUTTON_PIN);

//========================================================================================================================
//
//========================================================================================================================
void setup()
{
	// ------------ Global Init

	EspBoard::init (true);

	// ------------- Setup

	myPushButton.notifyPressedState += []() {
		Logln (F("Button was pressed"));
		I(ModuleSequencer).requestWakeUp ();
	};

	I(ModuleSequencer).setup ({ &myPushButton });
}

//========================================================================================================================
//
//========================================================================================================================
void loop()
{
	I(ModuleSequencer).loop ();
}
